<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Filippo D'Allio - Sito Ufficiale</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel (per convertire il codice React nel browser) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        /* Font personalizzati */
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Lato:wght@300;400;700&display=swap');
        
        .font-serif { font-family: 'Playfair Display', serif; }
        .font-sans { font-family: 'Lato', sans-serif; }
        
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fade-in-up { animation: fadeInUp 1s ease-out forwards; }
        .animate-fade-in-up-delay { animation: fadeInUp 1s ease-out 0.5s forwards; }
        
        /* Animazione pulsazione per il player */
        @keyframes pulse-ring {
            0% { transform: scale(0.8); box-shadow: 0 0 0 0 rgba(245, 158, 11, 0.7); }
            70% { transform: scale(1); box-shadow: 0 0 0 10px rgba(245, 158, 11, 0); }
            100% { transform: scale(0.8); box-shadow: 0 0 0 0 rgba(245, 158, 11, 0); }
        }
        .playing-pulse {
            animation: pulse-ring 2s infinite;
        }

        /* Stile per la finestra Video (Modal) */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.95);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            opacity: 0;
            animation: fadeIn 0.3s forwards;
        }
        
        @keyframes fadeIn {
            to { opacity: 1; }
        }
    </style>
</head>
<body class="bg-slate-950">

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- ICONE ---
        const IconBase = ({ children, size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>{children}</svg>
        );
        const Menu = (props) => <IconBase {...props}><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></IconBase>;
        const X = (props) => <IconBase {...props}><path d="M18 6 6 18"/><path d="m6 6 12 12"/></IconBase>;
        const Music = (props) => <IconBase {...props}><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></IconBase>;
        const Mic = (props) => <IconBase {...props}><path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" x2="12" y1="19" y2="22"/></IconBase>;
        const Tv = (props) => <IconBase {...props}><rect width="20" height="15" x="2" y="7" rx="2" ry="2"/><polyline points="17 2 12 7 7 2"/></IconBase>;
        const Award = (props) => <IconBase {...props}><circle cx="12" cy="8" r="7"/><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/></IconBase>;
        const ChevronDown = (props) => <IconBase {...props}><path d="m6 9 6 6 6-6"/></IconBase>;
        const Mail = (props) => <IconBase {...props}><rect width="20" height="16" x="2" y="4" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></IconBase>;
        const ChevronRight = (props) => <IconBase {...props}><path d="m9 18 6-6-6-6"/></IconBase>;
        const Youtube = (props) => <IconBase {...props}><path d="M2.5 17a24.12 24.12 0 0 1 0-10 2.6 2.6 0 0 1 1.8-1.8C6.68 4 12 4 12 4s5.32 0 7.7.52a2.6 2.6 0 0 1 1.8 1.8 24.12 24.12 0 0 1 0 10 2.6 2.6 0 0 1-1.8 1.8c-2.38.52-7.7.52-7.7.52s-5.32 0-7.7-.52a2.6 2.6 0 0 1-1.8-1.8Z"/><path d="m10 15 5-3-5-3z"/></IconBase>;
        const Globe = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><line x1="2" x2="22" y1="12" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></IconBase>;
        const User = (props) => <IconBase {...props}><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></IconBase>;
        const Play = (props) => <IconBase {...props}><polygon points="5 3 19 12 5 21 5 3"/></IconBase>;
        const Pause = (props) => <IconBase {...props}><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></IconBase>;
        const ExternalLink = (props) => <IconBase {...props}><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" x2="21" y1="14" y2="3"/></IconBase>;


        const Portfolio = () => {
          const [activeSection, setActiveSection] = useState('home');
          const [isMenuOpen, setIsMenuOpen] = useState(false);
          const [scrolled, setScrolled] = useState(false);
          const [imageError, setImageError] = useState(false);
          
          // Stato per l'audio (ID univoco del brano che suona)
          const [playingId, setPlayingId] = useState(null);
          const audioRefs = useRef({}); 

          // Stato per il video (Youtube Modal)
          const [selectedVideoEmbed, setSelectedVideoEmbed] = useState(null); // URL per embed
          const [selectedVideoDirect, setSelectedVideoDirect] = useState(null); // URL diretto per fallback

          useEffect(() => {
            const handleScroll = () => {
              setScrolled(window.scrollY > 50);
            };
            window.addEventListener('scroll', handleScroll);
            return () => window.removeEventListener('scroll', handleScroll);
          }, []);

          const scrollTo = (id) => {
            const element = document.getElementById(id);
            if (element) {
              element.scrollIntoView({ behavior: 'smooth' });
              setIsMenuOpen(false);
              setActiveSection(id);
            }
          };

          // AUDIO LOGIC
          const handlePlayPause = (id) => {
            const currentAudio = audioRefs.current[id];
            if (!currentAudio) return;

            if (playingId === id) {
                currentAudio.pause();
                setPlayingId(null);
            } else {
                // Ferma il precedente
                if (playingId !== null && audioRefs.current[playingId]) {
                    audioRefs.current[playingId].pause();
                    audioRefs.current[playingId].currentTime = 0;
                }
                currentAudio.play();
                setPlayingId(id);
            }
          };
          
          const handleAudioEnded = () => {
            setPlayingId(null);
          };

          // VIDEO LOGIC
          const getYouTubeEmbedUrl = (url) => {
            const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;
            const match = url.match(regExp);
            const id = (match && match[2].length === 11) ? match[2] : null;
            return id ? `https://www.youtube.com/embed/${id}?autoplay=1&rel=0` : null;
          };

          const openVideoModal = (url) => {
            if (playingId !== null && audioRefs.current[playingId]) {
                audioRefs.current[playingId].pause();
                audioRefs.current[playingId].currentTime = 0;
                setPlayingId(null);
            }
            setSelectedVideoEmbed(getYouTubeEmbedUrl(url));
            setSelectedVideoDirect(url);
          };

          const closeVideoModal = () => {
            setSelectedVideoEmbed(null);
            setSelectedVideoDirect(null);
          };

          const artistInfo = {
            name: "Filippo D'Allio",
            roles: ["Compositore", "Arrangiatore", "Orchestratore", "Direttore Musicale"],
            tagline: "Eleganza formale e densità espressiva nella tradizione colta europea e nella moderna ricerca timbrica.",
            bio: [
              "Filippo D'Allio incarna la figura del compositore contemporaneo capace di sintetizzare la tradizione colta europea e la moderna ricerca timbrica. Il suo percorso artistico è segnato da una profonda indagine sulla scrittura musicale, intesa come architettura sonora in cui il rigore contrappuntistico si fonde con una sensibilità drammaturgica.",
              "Spazia dal sinfonico al camerismo, fino alle grandi produzioni orchestrali per la televisione e il teatro. La sua opera compositiva si distingue per una dialettica che oppone l'eleganza concettuale alla radicalità dell'espressione."
            ],
            education: [
              "Diploma Accademico di I Livello in Composizione",
              "Diploma Accademico di II Livello in Composizione (in corso)",
              "Diploma Accademico in Musica, Scienza e Tecnologia del Suono",
              "Diploma Accademico in Jazz",
              "Diploma Accademico in Chitarra"
            ],
            contacts: {
              email: "filippo.dallio@gmail.com",
              youtube: "https://www.youtube.com/@filippodallio/videos",
              web: "https://www.studioestudio.it/?s=filippo+d%27allio"
            },
            photoUrl: "https://scontent.fqsr1-1.fna.fbcdn.net/v/t39.30808-6/514255550_1340084718119943_4991549388791646041_n.jpg?_nc_cat=111&ccb=1-7&_nc_sid=6ee11a&_nc_ohc=DFwoU2lgZH8Q7kNvwGGjI10&_nc_oc=AdlO93-FBXQkNR4EMCxepX-qzfln05Xis5nCJ1M5sO5rSpKK8JkS1yBYw9CGCYSJzTk&_nc_zt=23&_nc_ht=scontent.fqsr1-1.fna&_nc_gid=5--FMEvEz1xGKTyI21nhow&oh=00_AfpYniXEzqv3nppU93guRjkGIfRBs7DstPI_GhpdegwzDA&oe=69624050" 
          };

          const originalWorks = [
            {
              title: "Narciso e Boccadoro",
              type: "Poema Sinfonico in sei movimenti",
              desc: "Un viaggio sonoro ispirato al capolavoro di Hermann Hesse. L'opera utilizza una 'tonalità espansa' e una dissonanza funzionale per esplorare le complesse dinamiche psicologiche dei protagonisti, culminando nella Coniunctio.",
              audioUrl: null,
              videoUrl: null
            },
            {
              title: "La Dama Taciuta",
              type: "Per Ensemble Misto",
              desc: "Un'indagine sul fascino della memoria e sul potere dell'attesa, caratterizzata da una struttura che evita la staticità per esplorare maestosi squarci sonori e tensioni irrisolte.",
              audioUrl: null,
              videoUrl: null
            },
            {
              title: "Il Volo del Desiderio",
              type: "Composizione Originale",
              desc: "Esplora la tensione drammatica tra la condizione umana e l'anelito alla trascendenza, attraverso un dinamismo ritmico e una pressione armonica che narrano una 'frenetica aspirazione'." ,
              audioUrl: null,
              videoUrl: null
            },
            {
              title: "Butterfly",
              type: "Composizione Originale",
              desc: "Opera vincitrice del 1° Premio al Concorso Internazionale.\nBarga Jazz '99 (big band version).\nTestimonia la versatilità della penna nel gestire organici complessi.",
              audioUrl: null,
              videoUrl: "https://www.youtube.com/watch?v=pfpzC3XrnHg" 
            }
          ];

          // --- NUOVA STRUTTURA PER LE CATEGORIE ---
          // Ora ogni voce è un oggetto { title, audioUrl, videoUrl }
          // Questo ti permette di aggiungere "Vento" e altri brani in futuro.
          const categories = [
            {
              title: "Orchestra Sinfonica",
              items: [
                { title: "Narciso e Boccadoro (Poema sinfonico)", audioUrl: null, videoUrl: null },
                { title: "La Dama Taciuta", audioUrl: null, videoUrl: null },
                { title: "Gershwin: Someone to watch over me", audioUrl: null, videoUrl: null },
                { title: "Le Pera-Gardel: Por Una Cabeza", audioUrl: null, videoUrl: null },
                { title: "Gershwin: Love Is Here To Stay", audioUrl: null, videoUrl: null },
                { title: "Piazzolla: Tristeza de un doble A", audioUrl: null, videoUrl: null }
              ]
            },
            {
              title: "Musica da Camera & Solistica",
              items: [
                { title: "Il Volo del Desiderio", audioUrl: null, videoUrl: null },
                { title: "D'Allio: Piccola Sonata (Violino e Piano)", audioUrl: null, videoUrl: null },
                { title: "Chopin: Nocturne n. 20 (Violino e Chitarra)", audioUrl: null, videoUrl: null },
                { title: "Brahms: Sinfonia n. 3 - 3° mov. (Chitarra classica)", audioUrl: null, videoUrl: null },
                { title: "Puccini: Intermezzo Manon Lescaut (Chitarra classica)", audioUrl: null, videoUrl: null },
                { title: "Piazzolla: Oblivion (Clarinetto, Piano e Archi)", audioUrl: null, videoUrl: null }
              ]
            },
            {
              title: "Pop & Jazz Band",
              items: [
                // QUI È STATO INSERITO L'AUDIO DI VENTO DA GOOGLE DRIVE
                { 
                    title: "D'Allio: Vento", 
                    audioUrl: "https://drive.google.com/uc?export=download&id=17AZbIyzfNvrNujXclfsiK_c5mXH6pyQ-", 
                    videoUrl: null 
                },
                { title: "Martino: Cos'hai trovato in lui", audioUrl: null, videoUrl: null },
                { title: "Montgomery: Full House", audioUrl: null, videoUrl: null },
                { title: "Mingus: Duke Ellington's Sound Of Love", audioUrl: null, videoUrl: null },
                { title: "Condorelli: M.L. Samba", audioUrl: null, videoUrl: null }
              ]
            }
          ];

          const collaborations = {
            artists: [
              "Nino Buonocore", "Lina Sastri", "Tullio De Piscopo", "Fabio Concato", 
              "Peter Cincotti", "Fiorella Mannoia", "Roberto De Simone", "Amalia Grè", 
              "Mike Stern", "Joe Pass"
            ],
            tv: [
              "Festival di Sanremo (Direttore d'orchestra e arrangiatore, 2006 e successive)",
              "Zecchino d'Oro (Arrangiamento brano vincitore 62^ ed. 2019)",
              "La Corrida (2004-2011)",
              "Sarabanda", "Porta a Porta", "Telethon", "Amici"
            ],
            maestri: [
              "Roberto De Simone", "Renato Serio", "Bruno Tommaso", "Peppe Vessicchio", 
              "Maurizio Pica", "Roberto Pregadio"
            ]
          };

          return (
            <div className="min-h-screen bg-slate-950 text-slate-300 font-sans selection:bg-amber-900 selection:text-white overflow-x-hidden w-full">
              
              {/* VIDEO MODAL (Finestra Cinema) */}
              {selectedVideoEmbed && (
                <div className="modal-overlay" onClick={closeVideoModal}>
                    <div className="relative w-full max-w-4xl aspect-video bg-black shadow-2xl rounded-lg overflow-hidden border border-amber-500/30 flex flex-col" onClick={e => e.stopPropagation()}>
                        
                        {/* Header Modale con Chiudi */}
                        <div className="absolute top-0 right-0 p-4 z-50">
                            <button 
                                onClick={closeVideoModal}
                                className="bg-black/70 hover:bg-amber-600 text-white rounded-full p-2 transition-colors border border-white/20"
                            >
                                <X size={24} />
                            </button>
                        </div>

                        {/* Video Frame */}
                        <iframe 
                            src={selectedVideoEmbed} 
                            className="w-full h-full flex-grow" 
                            allow="autoplay; encrypted-media" 
                            allowFullScreen
                            frameBorder="0"
                        ></iframe>
                        
                    </div>
                    
                    {/* Fallback Button se il video non parte */}
                    <div className="mt-4 text-center">
                        <p className="text-slate-400 text-sm mb-2">Il video non parte o vedi un errore?</p>
                        <a 
                            href={selectedVideoDirect} 
                            target="_blank" 
                            rel="noopener noreferrer"
                            className="inline-flex items-center gap-2 px-6 py-2 bg-red-600 hover:bg-red-700 text-white text-sm font-bold tracking-widest uppercase rounded-full transition-colors shadow-lg"
                        >
                            <ExternalLink size={16} />
                            Guarda su YouTube
                        </a>
                    </div>
                </div>
              )}

              {/* Navigation */}
              <nav className={`fixed w-full z-50 transition-all duration-500 ${scrolled ? 'bg-slate-950/95 backdrop-blur-md py-4 shadow-2xl border-b border-white/5' : 'bg-transparent py-8'}`}>
                <div className="container mx-auto px-6 flex justify-between items-center">
                  <div className="text-xl md:text-2xl tracking-[0.2em] font-serif text-amber-500 uppercase cursor-pointer" onClick={() => scrollTo('home')}>
                    F. D'Allio
                  </div>
                  
                  {/* Desktop Menu */}
                  <div className="hidden md:flex space-x-12 text-sm tracking-widest uppercase font-light">
                    {['biografia', 'opere', 'collaborazioni', 'contatti'].map((item) => (
                      <button 
                        key={item}
                        onClick={() => scrollTo(item)}
                        className={`hover:text-amber-500 transition-colors duration-300 ${activeSection === item ? 'text-amber-500' : 'text-slate-400'}`}
                      >
                        {item}
                      </button>
                    ))}
                  </div>

                  {/* Mobile Menu Button */}
                  <div className="md:hidden">
                    <button onClick={() => setIsMenuOpen(!isMenuOpen)} className="text-white hover:text-amber-500 transition-colors p-2">
                      {isMenuOpen ? <X size={24} /> : <Menu size={24} />}
                    </button>
                  </div>
                </div>

                {/* Mobile Menu Overlay */}
                {isMenuOpen && (
                  <div className="md:hidden absolute top-full left-0 w-full bg-slate-900 border-b border-white/10 py-4 flex flex-col items-center space-y-4 shadow-2xl z-40">
                    {['biografia', 'opere', 'collaborazioni', 'contatti'].map((item) => (
                      <button 
                        key={item}
                        onClick={() => scrollTo(item)}
                        className="text-sm tracking-widest uppercase text-slate-300 hover:text-amber-500 py-2 w-full text-center"
                      >
                        {item}
                      </button>
                    ))}
                  </div>
                )}
              </nav>

              {/* Hero Section */}
              <section id="home" className="relative min-h-screen flex items-center justify-center pt-20 pb-20 overflow-hidden w-full">
                {/* Background Gradients */}
                <div className="absolute inset-0 z-0 opacity-20 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-amber-900/40 via-slate-950 to-slate-950"></div>
                
                <div className="container mx-auto px-4 md:px-6 relative z-10 flex flex-col items-center md:flex-row md:justify-center md:gap-16 max-w-full">
                  
                  {/* Photo Container / Medallion */}
                  <div className="mb-10 md:mb-0 md:order-2 flex-shrink-0 relative group">
                    <div className="absolute -inset-1 bg-gradient-to-r from-amber-600 to-amber-900 rounded-full blur opacity-30 group-hover:opacity-50 transition duration-1000 group-hover:duration-200"></div>
                    <div className="relative w-56 h-56 md:w-80 md:h-80 rounded-full overflow-hidden border border-amber-500/30 bg-slate-900 flex items-center justify-center shadow-2xl">
                      {artistInfo.photoUrl && !imageError ? (
                        <img 
                          src={artistInfo.photoUrl} 
                          alt="Filippo D'Allio" 
                          className="w-full h-full object-cover filter grayscale hover:grayscale-0 transition-all duration-500"
                          onError={() => setImageError(true)} 
                        />
                      ) : (
                        <div className="flex flex-col items-center justify-center text-amber-500/40 animate-pulse">
                          <div className="text-6xl font-serif border-2 border-amber-500/20 rounded-full w-32 h-32 flex items-center justify-center mb-2 bg-slate-950/50">
                            FD
                          </div>
                        </div>
                      )}
                    </div>
                  </div>

                  {/* Text Content */}
                  <div className="text-center md:text-left md:order-1 max-w-2xl">
                    <div className="mb-6 inline-block md:block">
                      <div className="h-[1px] w-24 bg-amber-500/50 mx-auto md:mx-0 mb-8"></div>
                    </div>
                    
                    <h1 className="text-4xl sm:text-5xl md:text-6xl lg:text-8xl font-serif text-white tracking-wider mb-6 animate-fade-in-up leading-tight break-words">
                      FILIPPO D'ALLIO
                    </h1>
                    <div className="flex flex-wrap justify-center md:justify-start items-center gap-3 text-xs md:text-sm tracking-[0.2em] uppercase text-amber-500/80 mb-10 font-light">
                      {artistInfo.roles.map((role, idx) => (
                        <React.Fragment key={idx}>
                          <span>{role}</span>
                          {idx !== artistInfo.roles.length - 1 && <span className="hidden md:inline text-slate-700">•</span>}
                        </React.Fragment>
                      ))}
                    </div>
                    <p className="mx-auto md:mx-0 text-slate-400 font-light italic text-base md:text-lg leading-relaxed mb-12 opacity-0 animate-fade-in-up-delay">
                      "{artistInfo.tagline}"
                    </p>
                    
                    <div className="flex justify-center md:justify-start">
                      <button onClick={() => scrollTo('biografia')} className="animate-bounce text-slate-600 hover:text-amber-500 transition-colors duration-500 p-2">
                        <ChevronDown size={32} />
                      </button>
                    </div>
                  </div>
                </div>
              </section>

              {/* Biografia Section */}
              <section id="biografia" className="py-24 bg-slate-950 relative w-full overflow-hidden">
                <div className="container mx-auto px-6">
                  <div className="grid md:grid-cols-2 gap-16 items-start">
                    <div>
                      <h2 className="text-3xl md:text-5xl font-serif text-white mb-12 relative inline-block">
                        Il Compositore
                        <span className="absolute -bottom-4 left-0 w-1/3 h-[1px] bg-amber-600"></span>
                      </h2>
                      <div className="space-y-6 text-slate-300 font-light leading-loose text-lg text-justify">
                        {artistInfo.bio.map((paragraph, idx) => (
                          <p key={idx}>{paragraph}</p>
                        ))}
                      </div>

                      <div className="mt-12 pt-12 border-t border-white/5">
                        <h3 className="text-amber-500 tracking-widest uppercase text-sm mb-6 flex items-center gap-2">
                          <Award size={16} /> Formazione Accademica
                        </h3>
                        <ul className="space-y-4">
                          {artistInfo.education.map((edu, idx) => (
                            <li key={idx} className="flex items-start gap-3 group">
                              <span className="w-1.5 h-1.5 rounded-full bg-slate-700 mt-2.5 group-hover:bg-amber-500 transition-colors flex-shrink-0"></span>
                              <span className="text-slate-400 font-light">{edu}</span>
                            </li>
                          ))}
                        </ul>
                      </div>
                    </div>

                    {/* Quote Block */}
                    <div className="relative mt-12 md:mt-0 p-8 md:p-12 bg-slate-900/30 border border-white/5 rounded-sm">
                      <div className="absolute top-0 left-0 -mt-4 -ml-4 text-6xl md:text-8xl font-serif text-amber-900/20">"</div>
                      <p className="text-xl md:text-3xl font-serif text-amber-500/90 leading-normal italic text-center relative z-10">
                        La musica come architettura sonora, dove il rigore contrappuntistico incontra la sensibilità drammaturgica.
                      </p>
                      <div className="absolute bottom-0 right-0 -mb-4 -mr-4 text-6xl md:text-8xl font-serif text-amber-900/20 rotate-180">"</div>
                    </div>
                  </div>
                </div>
              </section>

              {/* Opere Section */}
              <section id="opere" className="py-24 bg-slate-900 w-full overflow-hidden">
                <div className="container mx-auto px-6">
                  <div className="text-center mb-24">
                    <h2 className="text-3xl md:text-5xl font-serif text-white mb-6">Produzione Originale</h2>
                    <div className="h-[1px] w-16 bg-amber-500 mx-auto"></div>
                  </div>

                  <div className="grid md:grid-cols-2 gap-8 mb-32">
                    {originalWorks.map((work, idx) => {
                      const workId = `ow-${idx}`; // ID univoco per il player
                      return (
                        <div key={idx} className={`group p-8 md:p-10 bg-slate-950 border transition-all duration-500 hover:transform hover:-translate-y-2 ${playingId === workId ? 'border-amber-500/40 shadow-lg shadow-amber-900/20' : 'border-white/5 hover:border-amber-900/50'}`}>
                          <div className="flex justify-between items-start mb-6">
                            
                            {/* LOGICA PLAYER IBRIDO (AUDIO vs YOUTUBE) */}
                            {work.videoUrl ? (
                              <button 
                                  onClick={() => openVideoModal(work.videoUrl)}
                                  className="transition-all duration-300 rounded-full p-2 border text-red-600 border-transparent hover:text-red-500 hover:bg-red-500/10 hover:border-red-900/30"
                                  title="Guarda Video"
                              >
                                  <Youtube size={28} />
                              </button>
                            ) : work.audioUrl ? (
                              <button 
                                  onClick={() => handlePlayPause(workId)}
                                  className={`transition-all duration-300 rounded-full p-2 border ${playingId === workId ? 'text-amber-500 border-amber-500 playing-pulse' : 'text-amber-700 border-transparent hover:text-amber-500 hover:border-amber-900/30'}`}
                              >
                                  {playingId === workId ? <Pause size={24} /> : <Play size={24} />}
                                  <audio 
                                      ref={el => audioRefs.current[workId] = el} 
                                      src={work.audioUrl} 
                                      onEnded={handleAudioEnded}
                                  />
                              </button>
                            ) : (
                              <Music className="text-amber-700 group-hover:text-amber-500 transition-colors" size={24} />
                            )}

                            <span className="text-[10px] md:text-xs font-bold tracking-widest uppercase text-slate-500 border border-slate-800 px-3 py-1 rounded-full">{work.type}</span>
                          </div>
                          <h3 className={`text-xl md:text-2xl font-serif mb-4 transition-colors ${playingId === workId ? 'text-amber-400' : 'text-white group-hover:text-amber-400'}`}>{work.title}</h3>
                          <p className="text-slate-400 font-light leading-relaxed whitespace-pre-line">
                            {work.desc}
                          </p>
                        </div>
                      );
                    })}
                  </div>

                  <div className="text-center mb-16">
                    <h3 className="text-2xl md:text-3xl font-serif text-slate-200 mb-4">Repertorio & Arrangiamenti</h3>
                    <p className="text-slate-500 font-light italic">Selezione estratta dal catalogo</p>
                  </div>

                  <div className="grid md:grid-cols-3 gap-12">
                    {categories.map((cat, catIdx) => (
                      <div key={catIdx}>
                        <h4 className="text-amber-500 uppercase tracking-widest text-sm font-bold mb-8 pb-4 border-b border-white/10">
                          {cat.title}
                        </h4>
                        <ul className="space-y-4">
                          {cat.items.map((item, itemIdx) => {
                            const itemId = `cat-${catIdx}-${itemIdx}`; // ID univoco per il player
                            return (
                              <li key={itemIdx} className="text-slate-400 font-light text-sm flex items-start gap-3 hover:text-white transition-colors">
                                {/* LOGICA PLAYER PER LE LISTE */}
                                <div className="mt-0.5 flex-shrink-0">
                                    {item.videoUrl ? (
                                        <button onClick={() => openVideoModal(item.videoUrl)} className="text-red-500 hover:text-red-400 transition-colors">
                                            <Youtube size={16} />
                                        </button>
                                    ) : item.audioUrl ? (
                                        <button 
                                            onClick={() => handlePlayPause(itemId)} 
                                            className={`${playingId === itemId ? 'text-amber-500' : 'text-slate-600 hover:text-amber-500'} transition-colors`}
                                        >
                                            {playingId === itemId ? <Pause size={16} /> : <Play size={16} />}
                                            <audio 
                                                ref={el => audioRefs.current[itemId] = el} 
                                                src={item.audioUrl} 
                                                onEnded={handleAudioEnded}
                                            />
                                        </button>
                                    ) : (
                                        <ChevronRight size={14} className="mt-0.5 text-slate-700" />
                                    )}
                                </div>
                                <span className={`${playingId === itemId ? 'text-amber-500 font-normal' : ''} transition-colors`}>{item.title}</span>
                              </li>
                            );
                          })}
                        </ul>
                      </div>
                    ))}
                  </div>
                </div>
              </section>

              {/* Collaborazioni Section */}
              <section id="collaborazioni" className="py-24 bg-slate-950 relative overflow-hidden w-full">
                {/* Decorative elements */}
                <div className="absolute top-0 right-0 w-64 md:w-96 h-64 md:h-96 bg-amber-900/5 rounded-full blur-3xl -mr-32 -mt-32"></div>
                <div className="absolute bottom-0 left-0 w-64 md:w-96 h-64 md:h-96 bg-blue-900/5 rounded-full blur-3xl -ml-32 -mb-32"></div>

                <div className="container mx-auto px-6 relative z-10">
                  <div className="max-w-4xl mx-auto">
                    <h2 className="text-3xl md:text-5xl font-serif text-white mb-16 text-center">
                      Collaborazioni & Carriera
                    </h2>

                    <div className="grid md:grid-cols-2 gap-12 mb-16">
                      <div className="bg-slate-900/50 p-8 border-l-2 border-amber-600">
                        <div className="flex items-center gap-4 mb-8">
                          <Mic size={24} className="text-amber-500" />
                          <h3 className="text-xl font-serif text-white">Artisti</h3>
                        </div>
                        <div className="flex flex-wrap gap-x-6 gap-y-3">
                          {collaborations.artists.map((artist, idx) => (
                            <span key={idx} className="text-slate-400 font-light hover:text-white transition-colors text-sm md:text-base">
                              {artist}
                            </span>
                          ))}
                        </div>
                      </div>

                      <div className="bg-slate-900/50 p-8 border-l-2 border-amber-600">
                        <div className="flex items-center gap-4 mb-8">
                          <Tv size={24} className="text-amber-500" />
                          <h3 className="text-xl font-serif text-white">Televisione & Eventi</h3>
                        </div>
                        <ul className="space-y-3">
                          {collaborations.tv.map((show, idx) => (
                            <li key={idx} className="text-slate-400 font-light text-sm">
                              {show}
                            </li>
                          ))}
                        </ul>
                      </div>
                    </div>

                    <div className="text-center bg-gradient-to-r from-slate-900 to-slate-800 p-10 rounded-sm border border-white/5">
                      <p className="text-slate-400 mb-6 uppercase tracking-widest text-xs">Conductors & Maestri</p>
                      <div className="flex flex-wrap justify-center gap-8 text-lg font-serif text-slate-200">
                        {collaborations.maestri.map((maestro, idx) => (
                          <span key={idx} className="border-b border-transparent hover:border-amber-500 transition-all duration-300 pb-1">
                            {maestro}
                          </span>
                        ))}
                      </div>
                      <p className="mt-8 text-sm text-slate-500 font-light max-w-2xl mx-auto">
                        "Parallelamente alla carriera di musicista, ha maturato la sua esperienza al fianco di numerosi Maestri, sviluppando interessi verso l'arrangiamento e l'orchestrazione in tutti gli ambiti musicali."
                      </p>
                    </div>
                  </div>
                </div>
              </section>

              {/* Footer */}
              <footer id="contatti" className="bg-black py-20 border-t border-white/10 w-full overflow-hidden">
                <div className="container mx-auto px-6 text-center">
                  <h2 className="text-3xl font-serif text-white mb-12">Filippo D'Allio</h2>
                  
                  <div className="flex flex-col md:flex-row justify-center items-center gap-8 md:gap-16 mb-16">
                    
                    <a href={`mailto:${artistInfo.contacts.email}`} className="group flex flex-col items-center gap-3 text-slate-500 hover:text-amber-500 transition-colors duration-300">
                      <div className="p-4 rounded-full bg-slate-900 border border-white/5 group-hover:border-amber-500/30 transition-colors">
                        <Mail size={24} />
                      </div>
                      <span className="text-xs tracking-widest uppercase font-light break-all">{artistInfo.contacts.email}</span>
                    </a>

                    <a href={artistInfo.contacts.youtube} target="_blank" rel="noopener noreferrer" className="group flex flex-col items-center gap-3 text-slate-500 hover:text-red-500 transition-colors duration-300">
                      <div className="p-4 rounded-full bg-slate-900 border border-white/5 group-hover:border-red-500/30 transition-colors">
                        <Youtube size={24} />
                      </div>
                      <span className="text-xs tracking-widest uppercase font-light">YouTube Channel</span>
                    </a>

                    <a href={artistInfo.contacts.web} target="_blank" rel="noopener noreferrer" className="group flex flex-col items-center gap-3 text-slate-500 hover:text-blue-400 transition-colors duration-300">
                      <div className="p-4 rounded-full bg-slate-900 border border-white/5 group-hover:border-blue-400/30 transition-colors">
                        <Globe size={24} />
                      </div>
                      <span className="text-xs tracking-widest uppercase font-light">Studio & Studio</span>
                    </a>

                  </div>

                  <p className="text-slate-700 text-sm font-light">
                    © {new Date().getFullYear()} Filippo D'Allio. Tutti i diritti riservati.<br />
                    <span className="text-xs opacity-50">Basato sui dati curriculari ufficiali.</span>
                  </p>
                </div>
              </footer>
            </div>
          );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<Portfolio />);
    </script>
</body>
</html>
